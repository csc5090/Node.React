<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>


    </script>
</head>
<body>
    <h1>Sort 활용 테스트</h1>
    <button onclick="move()">버튼</button>
    <table border="1" width="400">
        <thead>
        <tr>
            <th>순번</th>
            <th onclick="nameSort()">이름</th>
            <th onclick="ageSort()">나이</th>
            <th>별명</th>
        </tr>
        </thead>

        <tbody>
        <tr>
            <td>1</td>
            <td>종창</td>
            <td>33</td>
            <td>종창33</td>
        </tr>
        <tr>
            <td>2</td>
            <td>현규</td>
            <td>29</td>
            <td>현규29</td>
        </tr>
        <tr>
            <td>3</td>
            <td>지원</td>
            <td>21</td>
            <td>지원21</td>
        </tr>
        <tr>
            <td>4</td>
            <td>수민</td>
            <td>24</td>
            <td>수민24</td>
        </tr>
        <tr>
            <td>5</td>
            <td>형수</td>
            <td>40</td>
            <td>형수40</td>
        </tr>
        </tbody>
    </table>
    <script>
        
    const tbody = document.querySelector("tbody");
    let toggle = true;

    function ageSort() {
        const trs2 = Array.from(document.querySelectorAll("tbody > tr"));

        trs2.sort((a, b) => {
            const ageA = a.children[2].innerHTML;
            const ageB = b.children[2].innerHTML;

            if (ageA > ageB) return 1;
            return -1;

        });

        tbody.innerHTML = '';

        for (let i=0; i < trs2.length; i++) {
            tbody.appendChild(trs2[i]);
        }
    }


    function nameSort() {
    const trs = Array.from(document.querySelectorAll("tbody > tr")); 
    toggle = !toggle; 

    trs.sort((a, b) => {

        const nameA = a.children[1].innerHTML;
        const nameB = b.children[1].innerHTML;

        let now = 0;
        if (nameA > nameB) {
            now = 1;
        } else if (nameA < nameB) {
            now = -1;
        }
        return toggle ? now : now * -1;
    });
    tbody.innerHTML = '';
    trs.forEach((tr, index) => {
        tr.children[0].textContent = index + 1;
        tbody.appendChild(tr); 
    });
}

    function move() {
        ageSort();
    }

    </script>
</body>
</html>