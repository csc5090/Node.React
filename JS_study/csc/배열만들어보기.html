<!DOCTYPE html>
<meta charset="UTF-8" />
<script>
  //배열 직접 만들어보기
  function JwArray() {
    this.length = 0;
    return this;
  }

  //push 메소드 구현
  JwArray.prototype.push = function (pVal) {
    this[this.length] = pVal; // 0번 부터 넣기, 현재 갯수가 index번호가 됨
    this.length++; //다음 값을 넣기 위한 준비면서 현재 가진 갯수 의미
    return this;
  };

  //여기 부터 더 중요, React에서 많이 쓰는 메소드,
  JwArray.prototype.forEach = function (cb) {
    for (let i = 0; i < this.length; i++) {
      cb(this[i], i); //넘겨 받은 함수 호출
    }
    return this; //메소드 체이닝!
  };

  //진짜 많이 쓰는거 map
  //원본 배열은 건들지 않고, 원본 배열의 요소들의 값을 가공하여
  //그 내용을 담은 새 배열을 받을 목적으로 만듬, Big Data 분야에서도 미친듯이 많이 사용
  //reducer 와 합쳐서 맵이라는 말이 생길 정도!
  JwArray.prototype.map = function (cb) {
    const newArr = []; // 빈 새 배열
    for (let i = 0; i < this.length; i++) {
      newArr.push(cb(this[i], i)); // 가공된 값을 새 배열에 담기
    }
    return newArr; // 새 배열을 되돌려 줌
  };

  //filter도 미친 듯 많이 사용함
  //map과 마찬 가지로 원본 배열 값 건들지 않고 새 배열을 리턴
  JwArray.prototype.filter = function (cb) {
    const newArr = []; // 빈 새 배열
    for (let i = 0; i < this.length; i++) {
      if (cb(this[i], i)) {
        //콜백 함수가 true를 리턴한 경우만 그 요소값을 새 배열에 담음
        newArr.push(this[i]); // 가공된 값을 새 배열에 담기
      }
    }
    return newArr; // 새 배열을 되돌려 줌
  };

  const testArr = new JwArray();
  testArr.push("형수").push("승희").push("현식");
  /*   testArr.forEach(function (elem, idx) {
    console.log("확인" + elem + " " + idx);
  }); */
  /*   const mapedArr = testArr.map(function (elem, idx) {
    return `안녕! + ${elem}`;
  }); */
  const mapedArr = testArr
    .filter(function (elem, idx) {
      if (idx % 2 == 0) return true;
      return false;
    })
    .map(function (elem, idx) {
      return `<h1>멋지당 ${elem}</h1>`;
    });
  console.log("체크", mapedArr); //눈으로 확인하기!


  
        JwArray.prototype.sort = function (cb) {
            for(let i = 0; i < this.length; i++) {
                for(let j = i + 1; j < this.length; j++){
                    if(cb(this[i],this[j]) > 0) {
                        let temp = this[i];
                        this[i] = this[j];
                        this[j] = temp;
                    }
                }
            }
            return this;
        }

        const testArr1 = new JwArray();
        const testArr2 = new JwArray();

testArr1.push("형수").push("승희").push("현식").push("수민");
testArr2.push({name:"형수"}).push({name:"승희"}).push({name:"현식"}).push({name:"수민"});

testArr2.sort((a,b)=>{
  
});
</script>
